{% extends 'blog/base.html' %}

{% block content %}
<div class="container">
    <div class="jumbotron">
        {{ post.title }} <br/>
        {{ post.content }} <hr/>
    </div>
</div>

<div class="container">
    <!-- if문 대신에 empty를 사용하는 것이 효율적일수 있다.
    {% for comment in post.comment_set.all %}
    {% empty %}
    <ul>첫번째 댓글을 작성해주세요</ul>
    {% endfor %}-->
    {% if comment_list %}
        {% for comment in post.comment_set.all %}
            <li>
            {{ comment.message }} by {{ comment.author }}<br/>
            작성일시 : {{ comment.created_at }}
            </li>
        {% endfor %}
    {% else %}
        <li>등록된 댓글이 없어요!</li>
    {% endif %}

    <form action="" method="post">
        {% csrf_token %}
        <table>
            {{ form.as_table }}
        </table>
        <input type="submit" />
    </form>
    <hr/>
    <a href="{% url 'blog:post_list' %}" > 글 목록으로 </a>
</div>

<div class="footer">
    <div class="container">
        <p class="text-muted">Place sticky footer content here.</p>
    </div>
</div>
{% endblock %}